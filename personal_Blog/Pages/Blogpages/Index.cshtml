@page
@model personal_Blog.Pages.Blogpages.IndexModel

@{
    ViewData["Title"] = "Index";
    ViewData["ShowFooter"] = false;
}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!--Font Awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!--Custuom Styling-->
    <link rel="stylesheet" href="~/css/DashboardStyle.css" asp-append-version="true" />

    <!--Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Candal&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

    <!--bootstrap-->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <title>Acceuil</title>
</head>
<body>
    <header>
        <!-- la nav bar -->
        <nav class="navbar navbar-expand-lg my-navbar px-4">
            <!-- Logo ou nom à gauche -->
            <a class="navbar-brand" asp-page="/PagesNote/Index"><span>Find </span>my Place</a>

            <!-- Bouton hamburger pour les petits écrans -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Menus à droite -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="contactDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">@User.Identity?.Name</a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="contactDropdown">
                            <li><a class="dropdown-item " asp-area="" asp-page="/Blogpages/Index">Dashboard</a></li>
                            <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/Index", new { area = "" })">
                                <button type="submit" class="dropdown-item text-danger">Logout</button>
                            </form>
                            <!--<li><a class="dropdown-item text-danger" href="#">Logout</a></li>-->
                        </ul>
                    </li>
                </ul>
            </div>
            <!-- //Menus à droite -->
        </nav>
    </header>
    <!-- Bouton mobile toggle (sous la navbar) -->
    <button class="btn btn-primary w-100 d-md-none rounded-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar">
        <i class="fas fa-bars"></i> Menu
    </button>
    <!-- Offcanvas pour mobile -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileSidebar">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="list-unstyled">
                <li><a href="#" class="d-block mb-2"><i class="fas fa-home me-2"></i>Accueil</a></li>
                <li><a href="#" class="d-block mb-2"><i class="fas fa-user me-2"></i>Profil</a></li>
                <li><a href="#" class="d-block mb-2"><i class="fas fa-cog me-2"></i>Paramètres</a></li>
                <li><a href="#" class="d-block"><i class="fas fa-sign-out-alt me-2"></i>Déconnexion</a></li>
            </ul>
        </div>
    </div>
    <!-- Layout principal -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar visible sur grand écran -->
            <div class="col-md-2 d-none d-md-block sidebar">
                <ul class="list-unstyled reyy">
                    <li><a href="#" class="d-block mb-2">Manage Posts</a></li>
                    <li><a href="#" class="d-block mb-2">Manage Topics</a></li>
                </ul>
            </div>

            <!-- Contenu principal -->
            <div class="col-md-9 px-5 content">
                <div class="d-grid gap-2 d-md-block">
                    <button class="btn btn-primary" type="button"><a class="addpost" asp-page="Create">Add Post</a></button>
                    <button class="btn btn-primary" type="button">Manage Post</button>
                </div>
                <div class="container-fluid text-center">
                    <h1>My First Bootstrap Page</h1>
                </div>
                <!-- Contenu principal -->
                <main class="col-md-11 ms-sm-auto mt-4">
                    <div class="table-responsive text-center">
                        <table class="table table-bordered table-hover align-middle">
                            <thead class="table-light">
                                <tr>
                                    <th scope="col">
                                        @Html.DisplayNameFor(model => model.Publication[0].Title)
                                    </th>
                                    <th scope="col">
                                        @Html.DisplayNameFor(model => model.Publication[0].Description)

                                    </th>

                                    <th scope="col">
                                        @Html.DisplayNameFor(model => model.Publication[0].TypeHouse)
                                    </th>
                                    <th scope="col">
                                        @Html.DisplayNameFor(model => model.Publication[0].CreatedAt)
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.Publication)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Title)
                                        </td>
                                        <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            @Html.DisplayFor(modelItem => item.Description)
                                        </td>

                                        <td>
                                            @Html.DisplayFor(modelItem => item.TypeHouse)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.CreatedAt)
                                        </td>
                                        <td>
                                            <a asp-page="./Edit" asp-route-id="@item.Id">Edit</a> |
                                            <a asp-page="./Details" asp-route-id="@item.Id">Details</a> |
                                            <a asp-page="./Delete" asp-route-id="@item.Id">Delete</a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </main>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
